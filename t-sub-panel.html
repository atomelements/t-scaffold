<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-icons/iron-icons.html">
<link rel="import" href="../paper-drawer-panel/paper-drawer-panel.html">
<link rel="import" href="../paper-header-panel/paper-header-panel.html">
<link rel="import" href="../t-button/t-button.html">

  <link rel="import" type="css" href="t-scaffold-atom.css"/>
<!--
Left Nav + View
 -->
<dom-module id="t-sub-panel">
  <style is="custom-style">
:host t-button{
  
}
div#demo-header{
 } 
div#toggle-section{
  background: #fff;
}
div#filter-panel{
  overflow: auto;
  padding: 0 20px;
}

div#toggle-section #code-section,
div#toggle-section[active] #demo-section{
  display: none;
}
div#toggle-section[active] #code-section,
div#toggle-section #demo-section{
  display: flex;

}
paper-drawer-panel#codeDrawerPanel { --paper-drawer-panel-right-drawer-container: { background-color: #eee; }; }
 paper-drawer-panel#demoDrawerPanel .main[main],
    paper-drawer-panel#filterDrawerPanel .main[main]{
      overflow: auto;
      -webkit-box-sizing: border-box;
      -moz-box-sizing: border-box;
      box-sizing: border-box;
    }
.main-doc-area{
  overflow: auto;
  box-sizing:border-box;
}
</style>

  <template>
  
            
         <paper-drawer-panel disable-swipe right-drawer responsive-width="999999px" class="main-drawer-panel" main drawer-width="100%" drawer-toggle-attribute="list-toggle">
            <div class="main main-doc-area" selected main>
              <t-button class="primary" list-toggle raised style="margin: 5px 0" label="Demo"></t-button>
              <content select=".content"></content>
            </div>
            <div drawer>
              <paper-drawer-panel transition disable-swipe right-drawer id="filterDrawerPanel" responsive-width="600px" class="main-drawer-panel" main drawer-width="{{filterWidth}}" on-paper-responsive-change="_setWidth" drawer-toggle-attribute="filter-toggle">
                <div class="main layout vertical" selected main>
                    <!-- <paper-drawer-panel disable-swipe right-drawer id="codeDrawerPanel" responsive-width="3600px" class="main-drawer-panel" main drawer-width="100%" drawer-toggle-attribute="code-toggle"> -->
                    <div id="demo-header">
                      <t-button only-icon ico="arrow-back" list-toggle></t-button>
                      <t-button ico="code" raised style="float:right" only-icon toggles on-click="_fireCodeEvent"></t-button>
                      <t-button ico="filter-list" only-icon filter-toggle  paper-drawer-toggle></t-button>
                    </div>
                    <div class="flex layout vertical" active$="{{activated}}" id="toggle-section">
                      <div class="flex" id="demo-section">
                        <content select=".demo-content"></content>
                      </div>
                      <div class="flex" id="code-section">
                        <content select=".code-content"></content>
                      </div>
                    </div>
                  <!-- </paper-drawer-panel> -->
                </div>
                <div drawer id="filter-panel" class="padding-20">
                  <content select=".right-panel"></content>
                </div>
              </paper-drawer-panel>
            </div>
          </paper-drawer-panel>


        
  </template>

</dom-module>

  <script>
    Polymer({
      
      is: 't-sub-panel',
      
      properties:{

        /*filter width for handling responsive*/
        filterWidth:String,
       
         /*activated the  toggle of code section*/
        activated:{
          type:Boolean,
          value:false,
          reflectToAttribute:true
        }
      },
      _fireCodeEvent: function(e){
        this.fire('code-behind');
        var btn = e.currentTarget;
        this.activated = (btn.active?true:false);
      },
      

      //calculate the width and put value
      _setWidth:function(){
        var winWid =  window.innerWidth
        this.filterWidth = (winWid<600?'75%':'300px');
      }
    });
  </script>

